var ProductRestrictionByPostcode=function(){function e(){var t=this;this.popup=document.querySelector(".restringir-produto-por-cep"),this.input=this.popup.querySelector("input"),this.button=this.popup.querySelector("button");var e=document.createElement("script");e.src="https://unpkg.com/vue",document.body.appendChild(e);e=document.createElement("script");e.src="https://unpkg.com/axios",document.body.appendChild(e),document.querySelector(".popupcep")&&document.querySelector(".popupcep").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.popup.style.display="flex"}),document.querySelector("#popupcep")&&document.querySelector("#popupcep").addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.popup.style.display="flex"})}return e.prototype.save_postcode=function(e){var t=this;axios.post(window.ajaxurl,{postcode:e},{params:{action:"save_postcode"}}).then(function(e){t.popup.style.display="none",location.reload()})},e}();window.addEventListener("load",function(){var o=new ProductRestrictionByPostcode;o.input.addEventListener("keyup",function(e){var t=o.input.value;9==t.length&&(o.button.style.display="block"),5<t.length&&(o.input.value=o.input.value.replace(/([\d]{5})-?([\d]{3})?/gi,"$1-$2"))}),o.button.addEventListener("click",function(){var e=o.input.value.replace(/[^\d]+/,"");o.save_postcode(e)})});